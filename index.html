<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My App Store</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Your custom CSS -->
  <link rel="stylesheet" href="css/style.css">
</head>

<body>

  <!-- üîπ NAVBAR -->
  <nav class="navbar navbar-dark bg-dark">
    <div class="container">
      <span class="navbar-brand">My App Store</span>
      <a href="login.html" class="btn btn-outline-light">Login</a>
    </div>
  </nav>

  <!-- üîπ MAIN CONTENT -->
  <div class="container mt-5">
    <h2 class="mb-4">Available Apps</h2>

    <!-- üî• Firebase se apps yahan dynamically load hongi -->
    <div id="apps" class="row"></div>
  </div>
  <!-- üî• FIREBASE SDKs -->
<!-- üî• Firebase Config -->
<script src="js/firebase.js"></script>

  <!-- üîπ Firebase base file (already created by you) -->
  <script src="js/firebase.js"></script>

  <!-- üîπ Dynamic Apps Loader -->
  <script>
    var db;

setTimeout(function () {
  db = firebase.firestore();

  db.collection("apps")
    .where("active", "==", true)
    .get()
    .then(function (querySnapshot) {
      var html = "";

      querySnapshot.forEach(function (doc) {
        var app = doc.data();

        html += `
          <div class="col-md-4">
            <div class="card mb-4 shadow">
              <div class="card-body">
                <h5 class="card-title">${app.name}</h5>
                <p class="card-text">${app.desc}</p>
                <button class="btn btn-primary"
                  onclick="startCheckout('${doc.id}')">
                  Buy ‚Çπ${app.price}
                </button>
              </div>
            </div>
          </div>
        `;
      });

      document.getElementById("apps").innerHTML = html;
    });
}, 1500);

    // üîê Buy button logic
    function buyApp(link) {
      if (!firebase.auth().currentUser) {
        window.location.href = "login.html";
      } else {
        window.open(link, "_blank");
      }
    }

    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>

  <!-- üî• Firebase Config -->
  <script src="js/firebase.js">
    </script>
  </body>
</html>
